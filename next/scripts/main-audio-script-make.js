function GetCookie(e){var t=document.cookie.indexOf(e+"="),o=t+e.length+1,r=document.cookie.indexOf(";",o);return t||e===document.cookie.substring(0,e.length)?t===-1?null:(r===-1&&(r=document.cookie.length),decodeURIComponent(document.cookie.substring(o,r))):null}function SetCookie(e,t,o,r,i){var n=SetCookie.arguments,a=SetCookie.arguments.length,d=new Date,s=a>5&&n[5];r=a>3?n[3]:null,i=a>4?n[4]:null,null===o||""===o?o=5184e7:o*=1e3,d.setTime(d.getTime()+o),document.cookie=e+"="+escape(t)+(null===d?"":"; expires="+d.toGMTString())+(null===r?"/":"; path="+r)+(null===i?"":"; domain="+i)+(s===!0?"; secure":"")}function DeleteCookie(e){var t=new Date,o=GetCookie(e);t.setTime(t.getTime()-1),document.cookie=e+"="+o+"; expires="+t.toGMTString()}function paravalue(e,t){var o,r;return e.indexOf(t+"=")>1?(o=e.indexOf(t+"=")+t.length+1,r=e.substring(o,e.length),r=r.replace(/[\&\#].*/g,"")):r="",r}function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function updateSubscriberStatus(){var e=GetCookie("paywall");return null!==e?"premium"===e?(" is-subscriber is-premium","VIP"):(" is-subscriber is-standard","Subscriber"):null}function updateClientIdLinks(){window.gClientId=GetCookie("_ga");for(var e=document.querySelectorAll(".o-client-id-link"),t=0;t<e.length;t++){var o=e[t],r=o.href;if(r&&"string"==typeof r&&r.indexOf("/")>=0){var i=r.indexOf("?")>0?"&":"?",n=o.className;o.href=r+i+"clientId="+window.gClientId,o.className=n.replace(/o-client-id-link/g,"")}}}function trackerNew(){function e(e,t){gtag("config",gaMeasurementId,e),gtag("config",gaMeasurementId2,t)}var t,o,r,i,n,a,d,s,u,l={},c={},p=window.location.href,m="",g="",f={},v=GetCookie("USER_NAME")||GetCookie("USER_NAME_FT")||"",h=GetCookie("USER_ID")||"",y=GetCookie("ccode")||"",b=0,T=updateSubscriberStatus();void 0===window.languagePreference&&(window.languagePreference=GetCookie("LanguagePreference")||0),l.linker={domains:["ftacademy.cn","ft.com","ftchinese.com"]},l.custom_map={metric1:"engagement_score",metric2:"copy_text",metric4:"read_to_half",dimension2:"user_type",dimension4:"page_type",dimension5:"ftc_team",dimension6:"author",dimension7:"phone_version",dimension8:"story_genre",dimension9:"story_area",dimension10:"story_industry",dimension11:"main_topic",dimension12:"sub_topic",dimension13:"visiting_source",dimension14:"cm_user_id",dimension15:"reader_type",dimension16:"use_block",dimension17:"prefer_language",dimension18:"screen_type"},w>0&&(b=w>1220?"XL: above 1220":w>980?"Large: 981-1220":w>690?"Medium: 691-981":w>490?"Small: 491-690":"Phone: under 491",l.screen_type=b),u=/ipad/i.test(ua)?"iPad":/OS [0-9]+\_/i.test(ua)&&/iphone|ipod/i.test(ua)?"iPhone":/android/i.test(ua)?"Android":isTouchDevice()===!0?"Other Touch Device":"Desktop",u="Page by "+u,l.contentGroup4=u,m=paravalue(p,"ccode"),p.indexOf("gift_id")>0?(o="marketing",m="GiftArticle"):p.indexOf("isappinstalled")>0&&p.indexOf("code")<0?(o="marketing",m="2G178002"):p.indexOf("#s=d")>0?(o="DailyEmail",m="1D110215"):p.indexOf("#s=n")>0?(o="DailyEmail",m="1D130201"):p.indexOf("#s=o")>0?(o="DailyEmail",m="1D130202"):p.indexOf("#s=p")>0?(o="PMEmail",m="1P110215"):p.indexOf("#s=w")>0?(o="WeeklyEmail",m="1W110215"):p.indexOf("?wt")>0?(o="Marketing",m="WeChatNewsQuiz"):"1D110215"===m?o="DailyEmail":"1P110215"===m?o="PMEmail":"1W110215"===m?o="WeeklyEmail":"1R110215"===m?o="RSS":"1Z120420"===m?o="Zacker":p.indexOf("utm_campaign")>=0?(m=paravalue(p,"utm_campaign"),o=paravalue(p,"utm_source")):""===m?(m=GetCookie("ccode")||"",o="Other"):o="Other";try{""!==m&&m!==y&&(SetCookie("ccode",m,864e4,"/",".ftchinese.com"),SetCookie("ccode",m,864e4,"/"))}catch(e){}i="marketing",n="campaign",/micromessenger/i.test(ua)?(i="WeChat",n="Social"):o.indexOf("Email")>=0?(i="EmailNewsletter",n="referral"):o.indexOf("RSS")>=0?(i="RSS",n="referral"):o.indexOf("Zacker")>=0&&(i="Zacker",n="referral");try{l.AllowAnchor=!0,""!==m&&p.indexOf("utm_campaign")<0&&(l.campaign={name:m,source:i,medium:n},p=window.location.href)}catch(e){}if("string"==typeof window.interactiveType)try{l.contentGroup1=window.interactiveType}catch(e){}r=T&&"string"==typeof T&&""!==T?T:""===v?"visitor":"member",window.androidUserInfo&&(h=window.androidUserInfo.id||h,v=window.androidUserInfo.userName||v,r=window.androidUserInfo.isMember?"premium"===window.androidUserInfo.membership.tier?"VIP":"Subscriber":"member"),gUserType=r,""!==h&&(l.user_id=h,l.cm_user_id=h,c.user_id=h),l.user_type=gUserType,l.visiting_source=o;try{t=window.gKeyTag,t=t.replace(/白底|靠右|单页|插图|透明|高清|置顶|沉底|资料|突发/g,"").replace(/,+/g,",")}catch(e){}g="",s="",p.indexOf("story")>=0?g="Story":p.indexOf("interactive")>=0?(g="Interactive",s="product"):p.indexOf("photo")>=0?(g="Photo",s="product"):p.indexOf("video")>=0?(g="Video",s="video"):g=p.indexOf("search")>=0?"Search":p.indexOf("channel")>=0?"Channel":p.indexOf("comment")>=0?"coment":p.indexOf("column")>=0?"Column":p.indexOf("tag")>=0?"Tag":p.indexOf("topic")>=0?"Topic":"/"===p||"/?refresh="===p||p.indexOf("index.php")>=0?"Home":"Other",l.page_type=g,void 0===window.ftcteam||null===window.ftcteam||""===window.ftcteam?""!==s&&(l.ftc_team=s):l.ftc_team=window.ftcteam,void 0!==window.gauthor&&null!==window.gauthor&&""!==window.gauthor&&(l.author=window.gauthor),void 0!==window.storyGenre&&null!==window.storyGenre&&""!==window.storyGenre&&(l.story_genre=window.storyGenre),void 0!==window.storyArea&&null!==window.storyArea&&""!==window.storyArea&&(l.story_area=window.storyArea),void 0!==window.storyIndustry&&null!==window.storyIndustry&&""!==window.storyIndustry&&(l.story_industry=window.storyIndustry),void 0!==window.mainTopic&&null!==window.mainTopic&&""!==window.mainTopic&&(l.main_topic=window.mainTopic),void 0!==window.subTopic&&null!==window.subTopic&&""!==window.subTopic&&(l.sub_topic=window.subTopic),updateClientIdLinks(),f={UserType:r},gtag("set","user_properties",f),"yes"===window.isBlocked||"yes"===window.bBlocked?l.use_block="yes":"no"===window.isBlocked&&(l.use_block="no"),void 0!==window.bpage&&0!==window.bpage&&null!==window.bpage?(a=p,a=void 0!==window.virtualPage?window.virtualPage:a.replace(/^.*\/story/g,"story"),void 0!==window.metaInfo&&(a=a+"?"+window.metaInfo),a="/barrier/"+window.bpage+"/"+a,e(l,c)):void 0!==window.virtualPage?(d=p,d=d.replace(/^.*\/(story|video|interactive)\/[0-9]+/g,"").replace(/^.*\.com[\/]*/g,"").replace(/search\/.*$/g,""),void 0!==window.metaInfo?d=/\?.*\#/i.test(d)?d.replace(/#/g,"&"+window.metaInfo+"#"):d.indexOf("?")>=0?d+"&"+window.metaInfo:d.indexOf("#")>=0?d.replace(/#/g,"?"+window.metaInfo+"#"):d+"?"+window.metaInfo:/\?/i.test(d)&&(d=d.replace(/\?/g,"&")),void 0===window.gAutoStart&&(l.page_path=window.virtualPage+d,e(l,c))):void 0===window.gAutoStart&&e(l,c)}function isTouchDevice(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function showOverlay(e){document.getElementById(e).className="overlay-container on"}function closeOverlay(e){void 0!==e?document.getElementById(e).className="overlay-container":(document.getElementById("pop-ad").style.display="none",document.getElementById("pop-ad").innerHTML="")}function showWarningMessage(e){var t="red"===e?"membership-red-card-prompt":"membership-yellow-card-prompt",o=document.getElementById(t);if(o){o.className=o.className.replace(/ hide/g,"");var r=o.querySelector(".email-link");r&&(r.href="mailto: subscriber.service@ftchinese.com?subject=Appeal For "+window.userId),gtag("event","Show",{event_label:window.userId,event_category:"Subscription Warning: "+e,non_interaction:!0})}}function checkUserWarnings(){if(""!==window.userId){var e=window.gYellowCardUserIds||"",t=window.gRedCardUserIds||"";window.cardType="clear",t.indexOf(window.userId)>=0?(showWarningMessage("red"),window.cardType="red",DeleteCookie("paywall"),DeleteCookie("paywall_expire")):e.indexOf(window.userId)>=0&&(window.cardType="yellow",showWarningMessage("yellow"));try{var o={userId:window.userId,cardType:window.cardType};webkit.messageHandlers.card.postMessage(o)}catch(e){}}}function parseUrlSearch(){var e=location.search;if(e){e=e.substring(1),e=decodeURIComponent(e);return e.split("&")}}function getUrlParams(e){var t="",o=parseUrlSearch();if(o&&o.length>0){for(var r=[],i=0,n=o.length;i<n;i++)o[i].indexOf(e)>-1&&(r=o[i].split("="),r.length>1&&(t=r[1]));return t}return t}function startPlay(){function e(e,o){var r=e.match(o);if(r&&r.length>0)for(var i=0;i<r.length;i++){for(var n=r[i].replace(/<p>/g,"<start-p>").replace(/<\/p>/g,"<end-p>"),a=0;a<t.length;a++)n=n.replace(t[a].p,t[a].r);e=e.replace(r[i],n)}return e}var t=[{p:". ",r:"english-period"},{p:"! ",r:"english-question-mark"},{p:"? ",r:"english-exclaim"},{p:"。",r:"chinese-period"},{p:"？",r:"chinese-question-mark"}],o=document.getElementById("audio-url").value||"";if(""===o)return void alert("请输入正确的音频地址");document.getElementById("audio-player-container").innerHTML='<audio id="current-audio" preload="true" controls="" ontimeupdate="updateAudioTime(this)"><source src="'+o+'"><br clear="all"></audio>',audioData.url=o,updateAudioSpeed(document.getElementById("audio-speed").value||1);var r=document.getElementById("audio-text").value;r=e(r,/<blockquote .*?<\/blockquote>/g),r=e(r,/<div .*?<\/div>/g),r=r.replace(/[\r\n]/g,"||");var i=r.match(/<p>.+?<\/p>/g);if(i&&i.length>0)for(var n=0;n<i.length;n++){var a=i[n].replace(/[|]+/g,"");r=r.replace(i[n],a)}r=r.replace(/<[pP]>/g,"|").replace(/<\/[pP]>/g,"|").replace(/\|+/g,"|").replace(/start-p/g,"p").replace(/end-p/g,"/p").replace(/<\/li><li>/g,"</li>|<li>").replace(/\. /g,". ").replace(/\.<\//g,". </");for(var d=r.split("|"),s=[],u=0;u<d.length;u++){for(var l=d[u].replace(/([\.\?\!][ ”])/g,"$1|").replace(/([。？])/g,"$1|"),c=l.split("|"),p=[],m=0;m<c.length;m++){for(var g=0;g<t.length;g++)c[m]=c[m].replace(t[g].r,t[g].p).replace(t[g].r,t[g].p).replace(t[g].r,t[g].p).replace(t[g].r,t[g].p).replace(t[g].r,t[g].p).replace(t[g].r,t[g].p);var f={start:null,text:c[m]};p.push(f)}s.push(p)}audioData.text=s;for(var w="",v=0;v<audioData.text.length;v++)for(var h=0;h<audioData.text[v].length;h++)w+='<tr id="line-'+v+"-"+h+'" data-section="'+v+'" data-row="'+h+'"><td nowrap><input onclick="seekTime(this);" onchange="changeAudioTime(this)" onended="audioEnded()" type="text" value="" class="audio-time-stamp"></td><td onclick="addTag(this);return false;" class="audio-line-text">'+audioData.text[v][h].text+"</td></tr>";document.getElementById("audio-player-text-lines").innerHTML='<table class="big-font"><caption>点击加上时间点位</caption><thead><tr><th><span class="ft-bold">时间</span></th><th><span class="ft-bold">文字</span></th></tr></thead><tbody>'+w+"</tbody></table>"}function seekTime(e){var t=e.value;if(""!==t){var o=parseInt(t,10);if(o>0){var r=document.getElementById("current-audio");r.currentTime=o,r.paused===!0&&r.play()}}}function changeAudioTime(e){const t=Number(e.value)||null;var o=e.parentNode.parentNode,r=o.getAttribute("data-section"),i=o.getAttribute("data-row");audioData.text[r][i].start=t}function addTag(e){if(void 0!==audioCurrentTime){var t=e.parentNode;t.querySelector(".audio-time-stamp").value=audioCurrentTime;var o=t.getAttribute("data-section"),r=t.getAttribute("data-row");audioData.text[o][r].start=audioCurrentTime}}function exportData(){var e=JSON.stringify(audioData);document.getElementById("audio-json-text").value=e}function finish(){var e=JSON.stringify(audioData);if(window.opener){var t=window.opener.document.getElementById("cbody");t&&(t.value=e,window.close())}}function updateAudioSpeed(e){localStorage&&localStorage.setItem("audioSpeed",e);var t=document.getElementById("current-audio");t&&(t.playbackRate=e)}function previewData(){var e=document.getElementById("audio-json-text").value;audioData=JSON.parse(e),renderAudioData(document.getElementById("story-body-container")),audioHasRendered=!0}function initPage(){var e=paravalue(window.location.href,"ftid");if(""!==e){var t=new XMLHttpRequest;t.open("GET","/FTAPI/article.php?pageAction=article&id="+e),t.setRequestHeader("Content-Type","application/json"),t.onload=function(){if(200===t.status){var o=JSON.parse(t.responseText),r="https://s3-us-west-2.amazonaws.com/ftlabs-audio-rss-bucket.prod/"+e+".mp3",i=o.bodyXML.replace(/<[\/]*body>/g,"");document.getElementById("audio-url").value=r,document.getElementById("audio-text").value=i}},t.send()}else if(window.opener){var o=window.opener.document.getElementById("cshortleadbody");o&&(document.getElementById("audio-url").value=o.value);var r=window.opener.document.getElementById("ebody");r&&(document.getElementById("audio-text").value=r.value)}if(localStorage){var i=localStorage.getItem("audioSpeed")||1;document.getElementById("audio-speed").value=i}}function renderAudioData(e){var t=document.getElementById("audio-json-text");if(t){var o=t.value;audioData=JSON.parse(o),audioLastSpokenSentenseTime=findAudioMaxTime(audioData);for(var r="",i=0;i<audioData.text.length;i++){r+="<p>";for(var n=0;n<audioData.text[i].length;n++)r+='<span id="span-'+i+"-"+n+'" onclick="seekAudio(this)" data-section="'+i+'" data-row="'+n+'">'+audioData.text[i][n].text+"</span>";r+="</p>"}e.innerHTML=r,handleInlineVideos(e);try{webkit.messageHandlers.audioData.postMessage(audioData)}catch(e){}}}function handleInlineVideos(e){for(var t=e.querySelectorAll(".inlinevideo"),o=0;o<t.length;o++){var r=t[o],i=r.offsetWidth||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=parseInt(9*i/16,10),a=r.id||"",d=r.getAttribute("vid")||"",s=r.getAttribute("title")||"",u="";""!==a?u="https://p.bokecc.com/playhtml.bo?vid="+a+"&siteid=922662811F1A49E9&autoStart=false&playerid=3571A3BF2AEC8829&playertype=1":""!==d&&(u="/video/"+d+"?i=2&w="+i+"&h="+n+"&autostart=false"),""!==u&&'<div class="o-responsive-video-wrapper-outer"><div class="o-responsive-video-wrapper-inner"><iframe src="'+u+'" frameborder="0" style="width:100%;height:100%;" allowfullscreen="true"></iframe></div></div>';var l="";""!==s&&(l=""!==d?'<a class="o-responsive-video-caption" href="/video/'+d+'" target="_blank">'+s+"</a>":'<div class="o-responsive-video-caption">'+s+"</div>"),r.className="o-responsive-video-container",r.innerHTML='<div class="o-responsive-video-wrapper-outer"><div class="o-responsive-video-wrapper-inner"><iframe src="https://p.bokecc.com/playhtml.bo?vid='+a+'&siteid=922662811F1A49E9&autoStart=false&playerid=3571A3BF2AEC8829&playertype=1" frameborder="0" style="width:100%;height:100%;" allowfullscreen="true"></iframe></div></div>'+l}}function showHightlight(e,t){var o=document.getElementById("story-body-container").querySelectorAll("span"),r=document.getElementById("span-"+e+"-"+t),i=function(e){var t=0;if(e&&e.offsetParent){do{t+=e.offsetTop}while(e=e.offsetParent);return t}}(r),n=r.offsetHeight,a=window.innerHeight,d=window.scrollY,s=i-5,u=document.querySelector("header"),l=0;u&&(s-=101),document.documentElement.className.indexOf("is-ftc-app")>=0&&currentAudio&&(l=44);for(var c=0;c<o.length;c++){var p=o[c].getAttribute("data-section");p=parseInt(p,10);var m=o[c].getAttribute("data-row");m=parseInt(m,10);var g,f=o[c].className;g=p===e&&m===t?f.indexOf(" is-current")>=0?f:f+" is-current":f.replace(" is-current",""),g!==f&&(o[c].className=g)}(d>s||d+a<i+n+l)&&("undefined"!=typeof webkit?webkit.messageHandlers.scrollTo.postMessage(s):window.scrollTo({behavior:"smooth",top:s}))}function seekAudio(e){var t=e.getAttribute("data-section"),o=e.getAttribute("data-row");t=parseInt(t,10),o=parseInt(o,10),showHightlight(t,o);var r=audioData.text[t][o].start;if(null!==r&&r>0)if("undefined"!=typeof webkit)webkit.messageHandlers.seekAudio.postMessage(r);else{var i=document.getElementById("current-audio");i.currentTime=r,i.paused===!0&&i.play()}}function updateAudioTime(e){if(audioCurrentTime=e.currentTime,currentTimeEle){var t=e.duration;if(audioCurrentTime>0&&audioCurrentTime<t){if(progressBarEle){var o=audioCurrentTime/t,r=progressBarWidth*o-scrubEle.offsetWidth/2;progressBarEle.style[transformStyle]="scaleX("+o+")",isProgressTouched===!1&&(scrubEle.style.left=r+"px")}currentTimeEle.innerHTML=getMinuteSecond(audioCurrentTime),totalTimeEle.innerHTML=getMinuteSecond(t)}}audioHasRendered===!0&&updateAudioTimeForRenderedText(audioCurrentTime,audioData)}function audioEnded(){for(var e=document.getElementById("story-body-container").querySelectorAll("span.is-current"),t=0;t<e.length;t++)e[t].className=""}function updateAudioTimeForRenderedText(e,t){for(var o=0;o<t.text.length;o++)for(var r=0;r<t.text[o].length;r++){var i=t.text[o][r].start;if(i){var n=i>=e,a=i===audioLastSpokenSentenseTime&&i<e;if(n||a){var d=lastIndex.k,s=lastIndex.l,u=(o!==latestIndex.k||r!==latestIndex.l)&&n,l=a&&lastIndex.isLastSentenseHighlighting===!1;return void((u||l)&&(l?showHightlight(o,r):showHightlight(d,s),latestIndex={k:o,l:r}))}lastIndex={k:o,l:r,isLastSentenseHighlighting:a}}}}function findAudioMaxTime(e){for(var t,o=0;o<e.text.length;o++)for(var r=0;r<e.text[o].length;r++){var i=e.text[o][r].start;i&&(t=i)}return t}function getMinuteSecond(e){if(e>0){var t=Math.floor(e),o=t%60;o<10&&(o="0"+o);var r=Math.floor(t/60);return r<10&&(r="0"+r),r+":"+o}return"00:00"}function GetVendorPrefix(e){for(var t=document.createElement("div"),o="",r=0;r<e.length;r++){if(void 0!==t.style[e[r]]){o=e[r];break}o=null}return o}function updateTotalTime(){var e=currentAudio.duration;totalTimeEle&&(totalTimeEle.innerHTML=getMinuteSecond(e))}function playerToggle(e,t){e.setAttribute("disabled",!0),"play"===t?(currentAudio.play(),pauseButton.removeAttribute("disabled")):(currentAudio.pause(),playButton.removeAttribute("disabled"))}function findLeft(e){var t=0;if(e&&e.offsetParent){do{t+=e.offsetLeft}while(e=e.offsetParent);return t}}function progessBarClick(e){var t=e.clientX-findLeft(e.target),o=e.target.offsetWidth;if(t>0&&o>t&&currentAudio&&currentAudio.duration>0){var r=t/o,i=currentAudio.duration*r;currentAudio.currentTime=i,currentAudio.play();var n=t-scrubEle.offsetWidth/2;progressBarEle.style[transformStyle]="scaleX("+r+")",scrubEle.style.left=n+"px",playButton.setAttribute("disabled",!0),pauseButton.removeAttribute("disabled")}}function progressTouchStart(e){isProgressTouched=!0,scrubEle.style[transformStyle]="scaleX(1)",progressTouchMove(e),e.preventDefault()}function progressTouchMove(e){if(isProgressTouched!==!1){var t=e.changedTouches[0].clientX-findLeft(e.target),o=e.target.offsetWidth;if(t>0&&o>t&&currentAudio&&currentAudio.duration>0){var r=t-scrubEle.offsetWidth/2;scrubEle.style.left=r+"px"}}}function progressTouchEnd(e){if(console.log("touche end fired! "),isProgressTouched!==!1){isProgressTouched=!1;var t=e.changedTouches[0].clientX-findLeft(e.target),o=e.target.offsetWidth;if((t=Math.min(Math.max(t,0),o))>=0&&o>=t&&currentAudio&&currentAudio.duration>=0){var r=t/o,i=currentAudio.duration*r,n=t-scrubEle.offsetWidth/2;scrubEle.style.left=n+"px",progressBarEle.style[transformStyle]="scaleX("+r+")",currentAudio.currentTime=i}scrubEle.style[transformStyle]="scaleX(0)",e.preventDefault()}}function progressTouchCancel(e){isProgressTouched!==!1&&(isProgressTouched=!1,scrubEle.style[transformStyle]="scaleX(0)",e.preventDefault())}function initAudioPlayer(){if(currentAudio){playButton&&(playButton.onclick=function(){playerToggle(this,"play")}),pauseButton&&(pauseButton.onclick=function(){playerToggle(this,"pause")}),currentAudio.oncanplay=function(){updateTotalTime()},currentAudio.ondurationchange=function(){updateTotalTime()},currentAudio.addEventListener("loadedmetadata",function(){updateTotalTime()},!1),currentAudio.onplay=function(){updateTotalTime(),pauseButton.removeAttribute("disabled"),playButton.setAttribute("disabled",!0)},currentAudio.onpause=function(){updateTotalTime(),playButton.removeAttribute("disabled"),pauseButton.setAttribute("disabled",!0)},progressBarContainer&&(isTouchDevice()?(progressBarContainer.addEventListener("touchstart",progressTouchStart,!1),window.addEventListener("touchmove",progressTouchMove,!1),window.addEventListener("touchend",progressTouchEnd,!1),window.addEventListener("touchcancel",progressTouchCancel,!1)):(progressBarContainer.addEventListener("click",progessBarClick,!1),progressBarContainer.addEventListener("mouseover",function(){progressBarWidth=progressBarEle.offsetWidth,scrubEle.style[transformStyle]="scaleX(1)"}),progressBarContainer.addEventListener("mouseout",function(){scrubEle.style[transformStyle]="scaleX(0)"}))),progressBarWidth=progressBarEle.offsetWidth,window.addEventListener("resize",function(){progressBarWidth=progressBarEle.offsetWidth});var e=document.querySelector(".subscription-promo-container");e&&e.classList&&e.classList.remove("show-image-in-mobile")}}var w=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,ua=navigator.userAgent||navigator.vendor||"",gUserType="visitor",gaMeasurementId="UA-1608715-1",gaMeasurementId2="G-PDY0XG13PH",username=GetCookie("USER_NAME")||GetCookie("USER_NAME_FT")||"",userId=GetCookie("USER_ID")||"",ccodeCookie=GetCookie("ccode")||"",user_name=GetCookie("USER_NAME")||GetCookie("USER_NAME_FT");null!==user_name&&(document.documentElement.className+=" is-member"),window.ccodeValue=getUrlParams("ccode")||getUrlParams("utm_campaign")||GetCookie("ccode"),initPage();var audioCurrentTime,audioData={url:"",text:[]},audioLastSpokenSentenseTime,audioHasRendered=!1,currentAudio=document.getElementById("current-audio"),playButton=document.querySelector(".control__play"),pauseButton=document.querySelector(".control__pause"),currentTimeEle=document.querySelector(".audio-time-text"),totalTimeEle=document.querySelector(".audio-time-text__total"),progressBarEle=document.querySelector(".audio-time-progress__fill"),scrubEle=document.querySelector(".audio-time-progress__scrub"),progressBarContainer=document.querySelector(".audio-time-progress"),transformStyle=GetVendorPrefix(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),progressBarWidth,isProgressTouched=!1,lastIndex={k:0,l:0,isLastSentenseHighlighting:!1},latestIndex={k:0,l:0};initAudioPlayer();